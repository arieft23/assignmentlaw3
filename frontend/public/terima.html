<html>
<div id=jam></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
    WebSocketTest();
    function WebSocketTest() {

        if ("WebSocket" in window) {
            var ws_stomp_display = new SockJS('http://127.0.0.1:15674/stomp');
            var client_display = Stomp.over(ws_stomp_display);
            var mq_queue_display = "/exchange/1506689061/stream";
            var on_connect_display = function () {
                console.log('connected');
                client_display.subscribe(mq_queue_display, on_message_display);
            };
            var on_error_display = function (error) {
                console.log(error.headers.message);
            };
            var on_message_display = function (m) {
                console.log('message received');
                var theDiv = document.getElementById("jam");
                theDiv.innerHTML +=  "\n"+m.body
            };
            var headers = {
                login : "1506689061",
                passcode : "arief"
            }
            client_display.connect(headers, on_connect_display, on_error_display, '1506689061');
        } else {
            // The browser doesn't support WebSocket
            alert("WebSocket NOT supported by your Browser!");
        }
    }
</script>

</html>